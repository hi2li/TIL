# PATH

- PATH : **쉘이 명령어를 찾을 때 참고하는 “목록”**
- PATH는 단일 문자열이지만 :을 기준으로 실행파일이 있는 디렉토리들을 저장한다.
- PATH에 경로들을 저장하면
    1. PATH에 등록된 디렉터리들을
    2. **왼쪽부터 순서대로 탐색**
    3. 해당 이름의 실행 파일이 있으면 실행
    
    4. 동일한 이름의 명령어가 있으면 먼저 발견된 것 실행
    
- **PATH에 추가한 디렉터리에 있는 모든 실행 파일이 명령어로 실행 가능해진다.**

# LILO 부트로더

- BIOS → MBR → LILO 1차 부트로더 → LILO 2차 부트로더 → 커널 load

## 디스크 지오메트리

- 디스크를 몇 번째 실린더, 몇 번째 헤드, 몇 번째 섹터로 나눠서 주소를 매기는 방식 (CHS)
- BIOS는 CHS방식으로 디스크를 읽게 된다.
- 하지만 리눅스는 LBA (logical block Addressing)을 사용한다.
- LILO는 바이오스의 도움을 받아서 부팅을 하기 때문에 바이오스가 디스크를 읽는 방식인 CHS 기준으로 map파일을 만들게 된다.
- 리눅스는 LBA을 기본적으로 사용하기 때문에 이를 기반으로 CHS로 계산해서 변환하는데 이 변환결과가 미묘하게 다르면
- /boot/map 에 기록된 디스크주소가 서로 다를 수 있다.
- 그러면 부트로더가 잘못된 디스크 주소를 참조하게 된다.
- 그러면 LI에서 멈출 수 있다.

- 부팅할 때 결국 커널을 메모리에 올려야 부팅이 성공되는 것
- 커널은 디스크 안에 파일 형태로 존재한다.
- 하지만 LILO부트로더는 파일시스템을 이해하지 못하기 때문에 파일 이름으로 커널파일을 찾는 등의 행위는 하지 못하기 때문에
- /boot/map경로에 커널파일의 물리적인 위치를 기록해두어야한다.
- 그런데 위에서 말한 주소계산방식의 차이로 인한 미묘한 차이로 map에 기록된 커널주소가 다르면 부팅오류가 발생할 수 있다.

→ 하지만 LILO가 아니라 GRUB을 사용하면 LBA를 사용하고, 파일 시스템을 이해할 수 있기 때문에 GRUB에서는 거의 발생하지 않는 문제이다. 

## map파일(/boot/map)

- 커널과 2차 부트로더가 디스크의 어떤 위치에 있는지 적어둔 파일
- LILO는 파일 시스템을 이해하지 못하기 때문에 물리적인 디스크 위치를 기록해두어야한다.
- 그게 /boot/map이다.

## Map Installer (LILO 명령)

- /boot/map파일을 새로 만들어주는 설치 프로그램
- 커널 위치 게산
- 디스크 주소 계산
- /boot/map갱신

## 디스크립터 테이블

- 부트 로더가 다음 단계로 넘어가기 위해 참조하는 테이블
-
