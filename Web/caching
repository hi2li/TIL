# 캐싱(Caching): 개념, 필요성 및 동작 원리
> 핵심 요약: 자주 사용되거나 가져오는 데 시간이 오래 걸리는 데이터를 임시 저장소(Cache)에 저장해두고, 재사용함으로써 시스템 성능을 극대화하는 기술입니다.


1. 캐싱이란?
캐싱(Caching)은 Notion API와 같이 데이터를 가져오는 데 시간이 오래 걸리는 작업에서 속도 저하 문제를 해결하는 가장 효과적인 솔루션입니다. 

기본 아이디어
매번 원본 소스(DB, API 등)에서 데이터를 새로 만들거나 가져오는 대신, "한 번 가져온(혹은 계산한) 결과를 저장해 두었다가 재사용하자"는 것이 핵심입니다.



2. 캐싱의 주요 구성 요소

시스템을 구성하는 4가지 핵심 요소는 다음과 같습니다.

2-1. 캐시(Cache)
   - 데이터를 임시로 저장하는 물리적/논리적 공간입니다.
   - 예: 메모리(RAM), 디스크 파일, 별도 캐시 서버(Redis, Memcached 등)

2-2. 캐시 대상(Cache Target)
   - 캐싱할 원본 데이터나 연산 결과입니다.
   - 예: Notion API로부터 응답받은 프로젝트 데이터 JSON 등

2-3. 캐시 정책(Cache Policy)
   - 캐시의 수명과 관리를 결정하는 규칙입니다.
   - 만료(Expiration): 데이터가 특정 시간(TTL: Time To Live)이 지나면 자동 삭제.
   - 업데이트: 데이터 변경 시 캐시 갱신 시점 결정.

2-4. 삭제 알고리즘 (Eviction Policy)
   - 캐시 공간이 부족할 때 어떤 데이터를 지울지 결정하는 방식입니다.
   - LRU (Least Recently Used): 가장 오랫동안 사용되지 않은 데이터 삭제.
   - LFU (Least Frequently Used): 사용 빈도가 가장 낮은 데이터 삭제.



3. 동작 원리


데이터 요청 시 시스템은 다음과 같은 흐름으로 동작합니다.

3-1. 요청(Request): 클라이언트가 특정 데이터를 요청합니다.
3-2. 검색(Lookup): 캐시 저장소에 해당 데이터가 있는지 확인합니다.

| 상황 | 설명 | 속도 | 동작 |
| :--- | :--- | :--- | :--- |
| 캐시 히트 (Cache Hit) | 캐시에 데이터가 있고 유효함 | 매우 빠름 | 캐시에서 데이터를 즉시 반환합니다. |
| 캐시 미스 (Cache Miss) | 캐시에 데이터가 없거나 만료됨 | 느림 | 1. 원본(Notion API)에서 데이터 조회<br>2. 결과를 캐시에 저장<br>3. 데이터 반환 |

---

4. Notion API 연동 시 캐싱이 필요한 이유

Notion API를 사용할 때 캐싱은 선택이 아닌 필수에 가깝습니다.

4-1. API 호출 시간 단축 (Latency 감소)
   - Notion 서버의 처리 시간과 네트워크 지연 시간을 제거하여, 반복적인 요청에 대해 즉각적인 응답을 제공합니다.
4-2. API 사용량 제한 회피 (Rate Limiting)
   - Notion API의 호출 횟수 제한(Rate Limit)에 도달할 위험을 획기적으로 낮춰줍니다.
4-3. 사용자 경험(UX) 개선
   - 로딩 속도가 빨라져 애플리케이션의 반응성이 좋아지고 사용자의 답답함이 해소됩니다.


5. 쉬운 예시 (Analogies)

### 예시 1: 카페 메뉴판 (일상생활)
* 상황: 매일 아침 같은 카페에서 아메리카노를 주문함.
* Cache Miss (첫 방문): 메뉴판을 정독하고 메뉴를 찾아 주문 (오래 걸림).
* Cache Hit (재방문): 메뉴판을 보지 않고 기억(캐시)에 의존해 "아메리카노 주세요"라고 즉시 주문 (빠름).
* Expire/Update: 가격이 오르면 다시 메뉴판을 보고 기억을 업데이트해야 함.

### 예시 2: 웹 브라우저 캐시 (IT 기술)
* 상황: 뉴스 사이트 접속.
* Cache Miss (첫 접속): 이미지, CSS, JS 파일을 서버에서 모두 다운로드 (로딩 시간 발생).
* Cache Hit (재접속): 변경되지 않은 파일은 내 컴퓨터(로딩 디스크)에서 바로 불러옴 (광속 로딩).
* Update: 사이트 디자인이 바뀌면 브라우저가 새 파일을 다시 다운로드.
